!function(){"use strict";angular.module("afrmApp",["ngMaterial","ngAnimate","ngRoute","angular.filter","md.data.table"]).config(["$mdThemingProvider","$mdDateLocaleProvider",function(o,n){n.formatDate=function(o){return moment(o).format("YYYY-MM-DD")},o.theme("forest").primaryPalette("blue").accentPalette("teal").warnPalette("red").backgroundPalette("grey")}])}(),function(){"use strict";function o(o,n,e){n.serverUrl="http://localhost:3000/",o.menu=function(o){e.path(o)}}o.$inject=["$scope","$rootScope","$location"],angular.module("afrmApp").controller("MainController",o)}(),function(){"use strict";function o(o,n){o.when("/",{templateUrl:"app/components/home/home.html",controller:"HomeController"}).when("/login",{templateUrl:"app/components/login/login.html",controller:"LoginController"}).when("/solicitacao",{templateUrl:"app/components/solicitation/solicitation.html",controller:"SolicitationController"}).when("/empresas",{templateUrl:"app/components/companies/companies.html",controller:"CompaniesController"}).when("/registro",{templateUrl:"app/components/login/register.html",controller:"RegisterController"}).otherwise({redirectTo:"/"}),n.html5Mode(!0)}angular.module("afrmApp").config(["$routeProvider","$locationProvider",o])}(),function(){"use strict";function o(o,n,e){o.showDialog=function(e){n.show({controller:"ManageCompanyController",templateUrl:"app/shared/templates/modals/manage-company.html",parent:angular.element(document.body),locals:{company:e||null},clickOutsideToClose:!0}).then(function(n,e){n&&(e?o.companies.push(n):o.companies.forEach(function(o){o._id===n._id&&(o=n)}))},function(){})},function(){e.get().success(function(n){o.companies=n}).error(function(o){console.log(o)})}()}angular.module("afrmApp").controller("CompaniesController",o),o.$inject=["$scope","$mdDialog","companiesService"]}(),function(){"use strict";function o(o){o.approveSolicitation=function(){},o.insertSolicitation=function(){}}angular.module("afrmApp").controller("HomeController",o),o.$inject=["$scope"]}(),function(){"use strict";function o(o,n){o.login=function(o,e){var t={email:o,password:e};n.login(t).success(function(o){o&&window.sessionStorage.setItem("TOKEN",o)}).error(function(o){console.log(o)})},function(){console.log("logincontroller")}()}angular.module("afrmApp").controller("LoginController",o),o.$inject=["$scope","credentialsService"]}(),function(){"use strict";function o(o,n,e,t,r){o.createAccount=function(o){n.create(o).success(function(o){o&&(t.show(t.simple().textContent("Usu√°rio criado com sucesso").position("bottom").hideDelay(3e3)),r(function(){e("/login")},3e3))}).error(function(o){console.log(o)})}}angular.module("afrmApp").controller("RegisterController",o),o.$inject=["$scope","credentialsService","$location","$mdToast","$timeout"]}(),function(){"use strict";function o(o){o.approveSolicitation=function(){},o.insertSolicitation=function(){}}angular.module("afrmApp").controller("SolicitationController",o),o.$inject=["$scope"]}(),function(){"use strict";function o(o,n){var e="companies";this.create=function(t){return o.post(n.serverUrl+e,t)},this.update=function(t){return o.put(n.serverUrl+e,t)},this.get=function(){return o.get(n.serverUrl+e)}}o.$inject=["$http","$rootScope"],angular.module("afrmApp").service("companiesService",o)}(),function(){"use strict";function o(o,n){var e="credentials";this.login=function(t){var r="?email="+t.email+"&password="+t.password;return o.get(n.serverUrl+e+r)},this.create=function(t){return o.post(n.serverUrl+e,t)},this.logout=function(t){return o.get(n.serverUrl+e+"/"+t)}}o.$inject=["$http","$rootScope"],angular.module("afrmApp").service("credentialsService",o)}(),function(){"use strict";function o(o,n,e,t){o.save=function(t){var r;o.isLoadingCompany=!0,o.isEditing?(r=!1,e.update(t).success(function(e){o.isLoadingCompany=!1,n.hide(e,r)}).error(function(n){o.isLoadingCompany=!1,console.log(n)})):(r=!0,e.create(t).success(function(e){o.isLoadingCompany=!1,n.hide(e,r)}).error(function(n){o.isLoadingCompany=!1,console.log(n)}))},function(){t.company&&(o.isEditing=!0),o.company=t.company||{}}()}o.$inject=["$scope","$mdDialog","companiesService","locals"],angular.module("afrmApp").controller("ManageCompanyController",o)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC1tb2R1bGUuanMiLCJhcHAtY29udHJvbGxlci5qcyIsImFwcC1yb3V0ZXMuanMiLCJjb21wb25lbnRzL2NvbXBhbmllcy9jb21wYW5pZXMuY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvaG9tZS9ob21lLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2xvZ2luL3JlZ2lzdGVyLmNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3NvbGljaXRhdGlvbi9zb2xpY2l0YXRpb24uY29udHJvbGxlci5qcyIsInNoYXJlZC9zZXJ2aWNlcy9jb21wYW5pZXMuc2VydmljZS5qcyIsInNoYXJlZC9zZXJ2aWNlcy9jcmVkZW50aWFscy5zZXJ2aWNlLmpzIiwic2hhcmVkL3RlbXBsYXRlcy9tb2RhbHMvbWFuYWdlLWNvbXBhbnkuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJG1kRGF0ZUxvY2FsZVByb3ZpZGVyIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJtb21lbnQiLCJmb3JtYXQiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIndhcm5QYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJNYWluQ29udHJvbGxlciIsIiRzY29wZSIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCJzZXJ2ZXJVcmwiLCJtZW51IiwicGF0aCIsIiRpbmplY3QiLCJjb250cm9sbGVyIiwiQXBwbGljYXRpb25Db25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImh0bWw1TW9kZSIsIkNvbXBhbmllc0NvbnRyb2xsZXIiLCIkbWREaWFsb2ciLCJjb21wYW5pZXNTZXJ2aWNlIiwic2hvd0RpYWxvZyIsImNvbXBhbnkiLCJzaG93IiwicGFyZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsImxvY2FscyIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJ0aGVuIiwiaXNOZXdDb21wYW55IiwiY29tcGFuaWVzIiwicHVzaCIsImZvckVhY2giLCJjb21wIiwiX2lkIiwiZ2V0Iiwic3VjY2VzcyIsImVycm9yIiwicmVhc29uIiwiY29uc29sZSIsImxvZyIsIkhvbWVDb250cm9sbGVyIiwiYXBwcm92ZVNvbGljaXRhdGlvbiIsImluc2VydFNvbGljaXRhdGlvbiIsIkxvZ2luQ29udHJvbGxlciIsImNyZWRlbnRpYWxzU2VydmljZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzIiwiY3JlZGVudGlhbCIsInBhc3N3b3JkIiwidG9rZW4iLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJSZWdpc3RlckNvbnRyb2xsZXIiLCIkbWRUb2FzdCIsIiR0aW1lb3V0IiwiY3JlYXRlQWNjb3VudCIsInVzciIsImNyZWF0ZSIsInJlc3VsdCIsInNpbXBsZSIsInRleHRDb250ZW50IiwicG9zaXRpb24iLCJoaWRlRGVsYXkiLCJTb2xpY2l0YXRpb25Db250cm9sbGVyIiwiQ29tcGFuaWVzU2VydmljZSIsIiRodHRwIiwidGhpcyIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJzZXJ2aWNlIiwiQ3JlZGVudGlhbHNTZXJ2aWNlIiwicXVlcnlzdHJpbmciLCJsb2dvdXQiLCJNYW5hZ2VDb21wYW55Q29udHJvbGxlciIsInNhdmUiLCJpc0xvYWRpbmdDb21wYW55IiwiaXNFZGl0aW5nIiwiY29tcGFueUVkaXRlZCIsImhpZGUiLCJuZXdDb21wYW55Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBR0FBLFNBQUFDLE9BQUEsV0FDQSxhQUNBLFlBQ0EsVUFDQSxpQkFDQSxrQkFHQUMsUUFBQSxxQkFBQSx3QkFBQSxTQUFBQyxFQUFBQyxHQUdBQSxFQUFBQyxXQUFBLFNBQUFDLEdBQ0EsTUFBQUMsUUFBQUQs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QUFBNkMsR0FDQWpGLEVBQUErRSxrQkFBQSxFQUNBOUQsRUFBQWlFLEtBQUFELEVBQUFwRCxLQUVBUSxNQUFBLFNBQUFDLEdBQ0F0QyxFQUFBK0Usa0JBQUEsRUFDQXhDLFFBQUFDLElBQUFGLE9BTUFULEdBQUEsRUFDQVgsRUFBQTBDLE9BQUF4QyxHQUNBZ0IsUUFBQSxTQUFBK0MsR0FDQW5GLEVBQUErRSxrQkFBQSxFQUNBOUQsRUFBQWlFLEtBQUFDLEVBQUF0RCxLQUVBUSxNQUFBLFNBQUFDLEdBQ0F0QyxFQUFBK0Usa0JBQUEsRUFDQXhDLFFBQUFDLElBQUFGLE9BS0EsV0FHQVosRUFBQU4sVUFDQXBCLEVBQUFnRixXQUFBLEdBRUFoRixFQUFBb0IsUUFBQU0sRUFBQU4sZUFLQXlELEVBQUF2RSxTQUFBLFNBQUEsWUFBQSxtQkFBQSxVQUVBckIsUUFBQUMsT0FBQSxXQUFBcUIsV0FBQSwwQkFBQXNFIiwiZmlsZSI6ImFmcm0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBNb2R1bGUgZGVwZW5kZW5jaWVzIGluamVjdGlvblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZnJtQXBwJywgW1xuICAgICAgICAnbmdNYXRlcmlhbCcsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAnbmdSb3V0ZScsXG4gICAgICAgICdhbmd1bGFyLmZpbHRlcicsXG4gICAgICAgICdtZC5kYXRhLnRhYmxlJ1xuICAgIF0pXG5cbiAgICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJG1kVGhlbWluZ1Byb3ZpZGVyLCAkbWREYXRlTG9jYWxlUHJvdmlkZXIpIHtcblxuICAgICAgICAgICAgLy8gRGF0ZSBmb3JtYXQgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgJG1kRGF0ZUxvY2FsZVByb3ZpZGVyLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRoZW1lIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlclxuICAgICAgICAgICAgICAgIC50aGVtZSgnZm9yZXN0JylcbiAgICAgICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JsdWUnKVxuICAgICAgICAgICAgICAgIC5hY2NlbnRQYWxldHRlKCd0ZWFsJylcbiAgICAgICAgICAgICAgICAud2FyblBhbGV0dGUoJ3JlZCcpXG4gICAgICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdncmV5Jyk7XG4gICAgICAgIH0pO1xuXG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBpbmplY3RpbmcgZGVwZW5kZW5jaWVzXG4gICAgTWFpbkNvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgICAgICAgJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRsb2NhdGlvbidcbiAgICBdO1xuXG4gICAgLy8gcmVnaXN0ZXJpbmcgb24gYW5ndWxhclxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZnJtQXBwJykuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBNYWluQ29udHJvbGxlcik7XG5cbiAgICAvLyBNYWluIENvbnRyb2xsZXJcbiAgICBmdW5jdGlvbiBNYWluQ29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsICRsb2NhdGlvbikge1xuXG4gICAgICAgICRyb290U2NvcGUuc2VydmVyVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nO1xuXG4gICAgICAgICRzY29wZS5tZW51ID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgocGF0aCk7XG4gICAgICAgIH07XG5cbiAgICB9XG59KCkpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYWZybUFwcCcpLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgQXBwbGljYXRpb25Db25maWddKTtcblxuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uQ29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAgICAkcm91dGVQcm92aWRlclxuXG4gICAgICAgICAgICAud2hlbignLycsIHtcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnIDogJ2FwcC9jb21wb25lbnRzL2hvbWUvaG9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICAnY29udHJvbGxlcicgIDogJ0hvbWVDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLndoZW4oJy9sb2dpbicsIHtcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnIDogJ2FwcC9jb21wb25lbnRzL2xvZ2luL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgICdjb250cm9sbGVyJyAgOiAnTG9naW5Db250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLndoZW4oJy9zb2xpY2l0YWNhbycsIHtcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnIDogJ2FwcC9jb21wb25lbnRzL3NvbGljaXRhdGlvbi9zb2xpY2l0YXRpb24uaHRtbCcsXG4gICAgICAgICAgICAgICAgJ2NvbnRyb2xsZXInICA6ICdTb2xpY2l0YXRpb25Db250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLndoZW4oJy9lbXByZXNhcycsIHtcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnIDogJ2FwcC9jb21wb25lbnRzL2NvbXBhbmllcy9jb21wYW5pZXMuaHRtbCcsXG4gICAgICAgICAgICAgICAgJ2NvbnRyb2xsZXInICA6ICdDb21wYW5pZXNDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLndoZW4oJy9yZWdpc3RybycsIHtcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnIDogJ2FwcC9jb21wb25lbnRzL2xvZ2luL3JlZ2lzdGVyLmh0bWwnLFxuICAgICAgICAgICAgICAgICdjb250cm9sbGVyJyAgOiAnUmVnaXN0ZXJDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICAgICAgJ3JlZGlyZWN0VG8nOiAnLydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICB9XG59KCkpOyIsIihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZnJtQXBwJykuY29udHJvbGxlcignQ29tcGFuaWVzQ29udHJvbGxlcicsIENvbXBhbmllc0NvbnRyb2xsZXIpO1xuXG4gICAgQ29tcGFuaWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyAnJHNjb3BlJywgJyRtZERpYWxvZycsICdjb21wYW5pZXNTZXJ2aWNlJyBdO1xuXG4gICAgZnVuY3Rpb24gQ29tcGFuaWVzQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgY29tcGFuaWVzU2VydmljZSkge1xuXG4gICAgICAgIC8vIGNyaWEgb3UgZWRpdGEgY29tcGFueVxuICAgICAgICAkc2NvcGUuc2hvd0RpYWxvZyA9IGZ1bmN0aW9uKGNvbXBhbnkpIHtcblxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgICAgICAgICdjb250cm9sbGVyJzogJ01hbmFnZUNvbXBhbnlDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAndGVtcGxhdGVVcmwnOiAnYXBwL3NoYXJlZC90ZW1wbGF0ZXMvbW9kYWxzL21hbmFnZS1jb21wYW55Lmh0bWwnLFxuICAgICAgICAgICAgICAgICdwYXJlbnQnOiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXG4gICAgICAgICAgICAgICAgJ2xvY2Fscyc6IHsgJ2NvbXBhbnknOiBjb21wYW55IHx8IG51bGwgfSxcbiAgICAgICAgICAgICAgICAnY2xpY2tPdXRzaWRlVG9DbG9zZSc6dHJ1ZVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihjb21wYW55LCBpc05ld0NvbXBhbnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFueSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOZXdDb21wYW55KVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBhbmllcy5wdXNoKGNvbXBhbnkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21wYW5pZXMuZm9yRWFjaChmdW5jdGlvbihjb21wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAuX2lkID09PSBjb21wYW55Ll9pZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcCA9ICBjb21wYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgKGZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICAgICAgICAgIGNvbXBhbmllc1NlcnZpY2UuZ2V0KClcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihjb21wYW5pZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBhbmllcyA9IGNvbXBhbmllcztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSgpKTtcbiAgICB9XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Fmcm1BcHAnKS5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIEhvbWVDb250cm9sbGVyKTtcblxuICAgIEhvbWVDb250cm9sbGVyLiRpbmplY3QgPSBbICckc2NvcGUnIF07XG5cbiAgICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkc2NvcGUpIHtcblxuICAgICAgICAkc2NvcGUuYXBwcm92ZVNvbGljaXRhdGlvbiA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pbnNlcnRTb2xpY2l0YXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB9O1xuICAgIH1cbn0oKSk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYWZybUFwcCcpLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cbiAgICBMb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsgJyRzY29wZScsICdjcmVkZW50aWFsc1NlcnZpY2UnIF07XG5cbiAgICBmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIoJHNjb3BlLCBjcmVkZW50aWFsc1NlcnZpY2UpIHtcblxuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbihlbWFpbCwgcGFzcykge1xuICAgICAgICAgICAgdmFyIGNyZWRlbnRpYWwgPSB7XG4gICAgICAgICAgICAgICAgJ2VtYWlsJzogZW1haWwsXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY3JlZGVudGlhbHNTZXJ2aWNlLmxvZ2luKGNyZWRlbnRpYWwpXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdUT0tFTicsIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAoZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbmNvbnRyb2xsZXInKTtcbiAgICAgICAgfSgpKTtcbiAgICB9XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Fmcm1BcHAnKS5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xuXG4gICAgUmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbICckc2NvcGUnLCAnY3JlZGVudGlhbHNTZXJ2aWNlJywgJyRsb2NhdGlvbicsICckbWRUb2FzdCcsICckdGltZW91dCcgXTtcblxuICAgIGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcigkc2NvcGUsIGNyZWRlbnRpYWxzU2VydmljZSwgJGxvY2F0aW9uLCAkbWRUb2FzdCwgJHRpbWVvdXQpIHtcblxuICAgICAgICAkc2NvcGUuY3JlYXRlQWNjb3VudCA9IGZ1bmN0aW9uKHVzcikge1xuICAgICAgICAgICAgY3JlZGVudGlhbHNTZXJ2aWNlLmNyZWF0ZSh1c3IpXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHRDb250ZW50KCdVc3XDoXJpbyBjcmlhZG8gY29tIHN1Y2Vzc28nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucG9zaXRpb24oJ2JvdHRvbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24oJy9sb2dpbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgfVxufSgpKTtcbiIsIihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhZnJtQXBwJykuY29udHJvbGxlcignU29saWNpdGF0aW9uQ29udHJvbGxlcicsIFNvbGljaXRhdGlvbkNvbnRyb2xsZXIpO1xuXG4gICAgU29saWNpdGF0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyAnJHNjb3BlJyBdO1xuXG4gICAgZnVuY3Rpb24gU29saWNpdGF0aW9uQ29udHJvbGxlcigkc2NvcGUpIHtcblxuICAgICAgICAkc2NvcGUuYXBwcm92ZVNvbGljaXRhdGlvbiA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pbnNlcnRTb2xpY2l0YXRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB9O1xuICAgIH1cbn0oKSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gQ29tcGFuaWVzU2VydmljZSgkaHR0cCwgJHJvb3RTY29wZSkge1xuXG4gICAgICAgIHZhciBtb2R1bGUgPSAnY29tcGFuaWVzJztcblxuICAgICAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb21wYW55KSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgkcm9vdFNjb3BlLnNlcnZlclVybCArIG1vZHVsZSwgY29tcGFueSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoY29tcGFueSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgkcm9vdFNjb3BlLnNlcnZlclVybCArIG1vZHVsZSwgY29tcGFueSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCRyb290U2NvcGUuc2VydmVyVXJsICsgbW9kdWxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBDb21wYW5pZXNTZXJ2aWNlLiRpbmplY3QgPSBbICckaHR0cCcsICckcm9vdFNjb3BlJyBdO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2Fmcm1BcHAnKS5zZXJ2aWNlKCdjb21wYW5pZXNTZXJ2aWNlJywgQ29tcGFuaWVzU2VydmljZSk7XG5cbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIENyZWRlbnRpYWxzU2VydmljZSgkaHR0cCwgJHJvb3RTY29wZSkge1xuXG4gICAgICAgIHZhciBtb2R1bGUgPSAnY3JlZGVudGlhbHMnO1xuXG4gICAgICAgIHRoaXMubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5c3RyaW5nID0gJz9lbWFpbD0nICsgY3JlZGVudGlhbC5lbWFpbCArICcmcGFzc3dvcmQ9JyArIGNyZWRlbnRpYWwucGFzc3dvcmQ7XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJHJvb3RTY29wZS5zZXJ2ZXJVcmwgKyBtb2R1bGUgKyBxdWVyeXN0cmluZyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jcmVhdGUgPSAgZnVuY3Rpb24odXNyKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgkcm9vdFNjb3BlLnNlcnZlclVybCArIG1vZHVsZSwgdXNyKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxvZ291dCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgkcm9vdFNjb3BlLnNlcnZlclVybCArIG1vZHVsZSArICcvJyArIHRva2VuKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBDcmVkZW50aWFsc1NlcnZpY2UuJGluamVjdCA9IFsgJyRodHRwJywgJyRyb290U2NvcGUnIF07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYWZybUFwcCcpLnNlcnZpY2UoJ2NyZWRlbnRpYWxzU2VydmljZScsIENyZWRlbnRpYWxzU2VydmljZSk7XG5cbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIE1hbmFnZUNvbXBhbnlDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nLCBjb21wYW5pZXNTZXJ2aWNlLCBsb2NhbHMpIHtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKGNvbXBhbnkpIHtcbiAgICAgICAgICAgIHZhciBpc05ld0NvbXBhbnk7XG5cbiAgICAgICAgICAgICRzY29wZS5pc0xvYWRpbmdDb21wYW55ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gcHV0XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmlzRWRpdGluZykge1xuICAgICAgICAgICAgICAgIGlzTmV3Q29tcGFueSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbXBhbmllc1NlcnZpY2UudXBkYXRlKGNvbXBhbnkpXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChjb21wYW55RWRpdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nQ29tcGFueSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoY29tcGFueUVkaXRlZCwgaXNOZXdDb21wYW55KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0xvYWRpbmdDb21wYW55ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcG9zdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNOZXdDb21wYW55ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb21wYW5pZXNTZXJ2aWNlLmNyZWF0ZShjb21wYW55KVxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAobmV3Q29tcGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzTG9hZGluZ0NvbXBhbnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKG5ld0NvbXBhbnksIGlzTmV3Q29tcGFueSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNMb2FkaW5nQ29tcGFueSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgKGZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICAgICAgICAgIC8vIGVkaXRhIG91IGNyaWEgZW1wcmVzYVxuICAgICAgICAgICAgaWYgKGxvY2Fscy5jb21wYW55KVxuICAgICAgICAgICAgICAgICRzY29wZS5pc0VkaXRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAkc2NvcGUuY29tcGFueSA9IGxvY2Fscy5jb21wYW55IHx8IHt9O1xuXG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgTWFuYWdlQ29tcGFueUNvbnRyb2xsZXIuJGluamVjdCA9IFsgJyRzY29wZScsICckbWREaWFsb2cnLCAnY29tcGFuaWVzU2VydmljZScsICdsb2NhbHMnIF07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYWZybUFwcCcpLmNvbnRyb2xsZXIoJ01hbmFnZUNvbXBhbnlDb250cm9sbGVyJywgTWFuYWdlQ29tcGFueUNvbnRyb2xsZXIpO1xuXG59KCkpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
